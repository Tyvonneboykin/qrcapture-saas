{% extends "base.html" %}

{% block title %}Sign Up - QR Lead Capture{% endblock %}

{% block body %}
<div class="min-h-screen flex items-center justify-center py-12 px-4">
    <div class="max-w-md w-full">
        <div class="text-center mb-8">
            <a href="/" class="text-3xl font-bold text-indigo-600">ðŸ“± QR Capture</a>
            <h2 class="mt-4 text-2xl font-bold text-gray-900">Create Your Account</h2>
            <p class="mt-2 text-gray-600">Start your 7-day free trial</p>
        </div>
        
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="mb-4 p-4 rounded-lg {% if category == 'error' %}bg-red-100 text-red-700{% else %}bg-green-100 text-green-700{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
        
        {% if request.args.get('canceled') %}
        <div class="mb-4 p-4 rounded-lg bg-yellow-100 text-yellow-700">
            Checkout was canceled. Ready to try again?
        </div>
        {% endif %}
        
        <form method="POST" id="signupForm" class="bg-white shadow-lg rounded-xl p-8">
            <div class="mb-6">
                <label for="venue_name" class="block text-sm font-medium text-gray-700 mb-2">
                    Venue Name
                </label>
                <input type="text" id="venue_name" name="venue_name" required
                       placeholder="e.g., The Blue Note Lounge"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
            </div>
            
            <div class="mb-6">
                <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                    Email Address
                </label>
                <input type="email" id="email" name="email" required
                       placeholder="you@yourvenue.com"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                <p class="mt-1 text-sm text-gray-500">Lead notifications will be sent here</p>
            </div>
            
            <input type="hidden" name="payment_method" id="payment_method" value="paypal">
            
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-3">Payment Method</label>
                <div class="space-y-3">
                    {% if paypal_enabled %}
                    <label class="flex items-center p-4 border-2 border-indigo-500 rounded-lg cursor-pointer bg-indigo-50">
                        <input type="radio" name="payment_option" value="paypal" checked 
                               onchange="document.getElementById('payment_method').value='paypal'"
                               class="h-4 w-4 text-indigo-600">
                        <span class="ml-3 flex items-center">
                            <svg class="h-6 w-8 mr-2" viewBox="0 0 124 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill="#253B80" d="M46.211 6.749h-6.839a.95.95 0 0 0-.939.802l-2.766 17.537a.57.57 0 0 0 .564.658h3.265a.95.95 0 0 0 .939-.803l.746-4.73a.95.95 0 0 1 .938-.803h2.165c4.505 0 7.105-2.18 7.784-6.5.306-1.89.013-3.375-.872-4.415-.972-1.142-2.696-1.746-4.985-1.746z"/>
                                <path fill="#179BD7" d="M94.992 6.749h-6.84a.95.95 0 0 0-.938.802l-2.766 17.537a.569.569 0 0 0 .562.658h3.51a.665.665 0 0 0 .656-.562l.785-4.971a.95.95 0 0 1 .938-.803h2.164c4.506 0 7.105-2.18 7.785-6.5.307-1.89.012-3.375-.873-4.415-.971-1.142-2.694-1.746-4.983-1.746z"/>
                                <path fill="#253B80" d="M70.467 13.462c-.318 2.097-1.91 2.097-3.45 2.097h-.876l.615-3.903a.569.569 0 0 1 .563-.481h.401c1.048 0 2.039 0 2.55.597.305.356.397.885.197 1.69zm-.672-5.663h-5.818a.946.946 0 0 0-.939.803l-2.35 14.893a.569.569 0 0 0 .562.658h2.98a.946.946 0 0 0 .939-.803l.635-4.027a.946.946 0 0 1 .938-.803h2.164c4.506 0 7.105-2.18 7.785-6.5.307-1.89.012-3.375-.873-4.415-.971-1.142-2.694-1.746-4.983-1.746l-.04-.06z"/>
                            </svg>
                            <span class="font-medium">PayPal</span>
                            <span class="ml-2 text-xs text-green-600 font-medium">âœ“ Recommended</span>
                        </span>
                    </label>
                    {% endif %}
                    
                    {% if stripe_enabled %}
                    <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-300">
                        <input type="radio" name="payment_option" value="stripe"
                               onchange="document.getElementById('payment_method').value='stripe'"
                               class="h-4 w-4 text-indigo-600">
                        <span class="ml-3 flex items-center">
                            <svg class="h-6 w-8 mr-2" viewBox="0 0 60 25" xmlns="http://www.w3.org/2000/svg">
                                <path fill="#635BFF" d="M59.64 14.28h-8.06c.19 1.93 1.6 2.55 3.2 2.55 1.64 0 2.96-.37 4.05-.95v3.32a8.33 8.33 0 0 1-4.56 1.1c-4.01 0-6.83-2.5-6.83-7.48 0-4.19 2.39-7.52 6.3-7.52 3.92 0 5.96 3.28 5.96 7.5 0 .4-.02 1.04-.06 1.48zm-6.3-5.63c-1.03 0-1.9.73-2.1 2.23h4.14c-.07-1.37-.84-2.23-2.04-2.23zM43.4 19.88V7.48h4.2v2.27c.75-1.63 2.15-2.52 3.87-2.42v4.36c-2.1-.14-3.87.64-3.87 3.27v4.92H43.4zM35.7 3.52c0-1.35 1.06-2.27 2.55-2.27 1.5 0 2.56.92 2.56 2.27 0 1.36-1.06 2.27-2.56 2.27-1.5 0-2.55-.91-2.55-2.27zm.45 16.36V7.48h4.21v12.4h-4.21zM28.5 5.3h4.2v14.58H28.5V17.6c-.85 1.72-2.36 2.53-4.2 2.53-3.36 0-5.83-2.86-5.83-6.53 0-3.67 2.47-6.53 5.82-6.53 1.85 0 3.36.82 4.21 2.54V5.3zm-3.2 11.03c1.45 0 2.64-1.17 2.64-2.73 0-1.56-1.19-2.73-2.64-2.73-1.46 0-2.65 1.17-2.65 2.73 0 1.56 1.19 2.73 2.65 2.73zM12.7 20.24c-3.94 0-7.18-2.93-7.18-6.6 0-3.67 3.24-6.6 7.18-6.6 2.3 0 4.17.94 5.4 2.47l-2.88 2.4c-.65-.85-1.52-1.27-2.53-1.27-1.74 0-3.02 1.3-3.02 3s1.28 3 3.02 3c1.01 0 1.88-.42 2.53-1.27l2.88 2.4c-1.23 1.53-3.1 2.47-5.4 2.47z"/>
                            </svg>
                            <span class="font-medium">Credit Card</span>
                        </span>
                    </label>
                    {% endif %}
                </div>
            </div>
            
            <button type="submit" 
                    class="w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                Continue to Payment â†’
            </button>
            
            <div class="mt-6 text-center text-sm text-gray-500">
                <p>7-day free trial â€¢ $49/month after</p>
                <p class="mt-1">Cancel anytime</p>
            </div>
        </form>
        
        <p class="mt-6 text-center text-gray-600">
            Already have an account? <a href="/login" class="text-indigo-600 hover:underline">Log in</a>
        </p>
    </div>
</div>
{% endblock %}
